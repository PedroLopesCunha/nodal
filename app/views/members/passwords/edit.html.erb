<div class="auth-logo">
  <span class="auth-logo-icon">N</span>
  <span class="auth-logo-text">odal</span>
</div>

<h1 class="auth-title">Change your password</h1>
<p class="auth-subtitle">Enter your new password below</p>

<%= simple_form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :put, class: "auth-form" }) do |f| %>
  <%= f.error_notification %>

  <%= f.input :reset_password_token, as: :hidden %>
  <%= f.full_error :reset_password_token %>

  <div class="auth-field">
    <label class="auth-label">New password</label>
    <div class="auth-password-wrapper" data-controller="password-visibility">
      <%= f.input :password,
                  label: false,
                  required: true,
                  autofocus: true,
                  placeholder: "Enter your new password",
                  hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length),
                  input_html: { autocomplete: "new-password", data: { password_visibility_target: "input" } } %>
      <button type="button" class="auth-password-toggle" data-action="password-visibility#toggle" aria-label="Toggle password visibility">
        <i class="fas fa-eye" data-password-visibility-target="icon"></i>
      </button>
    </div>
  </div>

  <div class="auth-field">
    <label class="auth-label">Confirm your new password</label>
    <div class="auth-password-wrapper" data-controller="password-visibility">
      <%= f.input :password_confirmation,
                  label: false,
                  required: true,
                  placeholder: "Confirm your new password",
                  input_html: { autocomplete: "new-password", data: { password_visibility_target: "input" } } %>
      <button type="button" class="auth-password-toggle" data-action="password-visibility#toggle" aria-label="Toggle password visibility">
        <i class="fas fa-eye" data-password-visibility-target="icon"></i>
      </button>
    </div>
  </div>

  <div class="auth-actions">
    <%= f.button :submit, "Change my password", class: "auth-submit-btn" %>
  </div>
<% end %>

<div class="auth-divider">
  <span>or</span>
</div>

<div class="auth-footer">
  <p>Remember your password? <%= link_to "Sign in", new_session_path(resource_name), class: "auth-link" %></p>
</div>
