<aside class="bo-sidebar" data-controller="sidebar-toggle">
  <!-- Logo Header - Integrated with navbar -->
  <div class="bo-sidebar-header">
    <%= link_to bo_path, class: "bo-logo-link" do %>
      <div class="bo-logo-icon">N</div>
      <span class="bo-logo-text">odal</span>
    <% end %>
  </div>

  <ul class="bo-sidebar-nav">
    <li class="bo-sidebar-item <%= 'active' if controller_name == 'dashboard' %>">
      <%= link_to bo_path do %>
        <i class="fa-solid fa-chart-line"></i>
        <span><%= t('bo.sidebar.dashboard') %></span>
      <% end %>
    </li>
    <li class="bo-sidebar-item <%= 'active' if controller_name == 'customers' %>">
      <%= link_to bo_customers_path do %>
        <i class="fa-solid fa-users"></i>
        <span><%= t('bo.sidebar.customers') %></span>
      <% end %>
    </li>
    <li class="bo-sidebar-item <%= 'active' if controller_name == 'products' %>">
      <%= link_to bo_products_path do %>
        <i class="fa-solid fa-box"></i>
        <span><%= t('bo.sidebar.products') %></span>
      <% end %>
    </li>
    <li class="bo-sidebar-item <%= 'active' if controller_name == 'categories' %>">
      <%= link_to bo_categories_path do %>
        <i class="fa-solid fa-folder-tree"></i>
        <span><%= t('bo.sidebar.categories') %></span>
      <% end %>
    </li>
    <li class="bo-sidebar-item <%= 'active' if controller_name == 'product_attributes' %>">
      <%= link_to bo_product_attributes_path do %>
        <i class="fa-solid fa-tags"></i>
        <span><%= t('bo.sidebar.attributes') %></span>
      <% end %>
    </li>
    <li class="bo-sidebar-item <%= 'active' if controller_name == 'orders' %>">
      <%= link_to bo_orders_path do %>
        <i class="fa-solid fa-clipboard-list"></i>
        <span><%= t('bo.sidebar.orders') %></span>
        <% if @unreviewed_orders_count && @unreviewed_orders_count > 0 %>
          <span class="badge rounded-pill bg-danger ms-auto"><%= @unreviewed_orders_count %></span>
        <% end %>
      <% end %>
    </li>
    <li class="bo-sidebar-item <%= 'active' if controller_name == 'pricing' || controller_name == 'customer_product_discounts' || controller_name == 'product_discounts' || controller_name == 'customer_discounts' %>">
      <%= link_to bo_pricing_path do %>
        <i class="fa-solid fa-tag"></i>
        <span><%= t('bo.sidebar.pricing') %></span>
      <% end %>
    </li>
  </ul>

  <!-- Bottom Navigation -->
  <ul class="bo-sidebar-nav-bottom">
    <li class="bo-sidebar-item bo-sidebar-storefront">
      <%= link_to products_path(org_slug: current_organisation.slug), target: "_blank" do %>
        <i class="fa-solid fa-store"></i>
        <span><%= t('bo.sidebar.view_storefront', default: 'View Storefront') %> <i class="fa-solid fa-external-link-alt ms-1" style="font-size: 0.7rem; opacity: 0.6;"></i></span>
      <% end %>
    </li>
    <li class="bo-sidebar-item <%= 'active' if controller_name == 'team_members' %>">
      <%= link_to bo_team_members_path do %>
        <i class="fa-solid fa-users-gear"></i>
        <span><%= t('bo.sidebar.team') %></span>
      <% end %>
    </li>
    <% if admin_or_owner? %>
      <li class="bo-sidebar-item <%= 'active' if controller_name.in?(%w[settings erp_settings]) %>">
        <%= link_to edit_bo_settings_path do %>
          <i class="fa-solid fa-gear"></i>
          <span><%= t('bo.sidebar.settings') %></span>
        <% end %>
      </li>
    <% end %>
    <li class="bo-sidebar-item">
      <%= link_to destroy_member_session_path, data: { turbo_method: :delete } do %>
        <i class="fa-solid fa-right-from-bracket"></i>
        <span><%= t('bo.sidebar.log_out') %></span>
      <% end %>
    </li>
    <!-- Toggle button -->
    <li class="bo-sidebar-toggle">
      <button type="button" data-action="sidebar-toggle#toggle">
        <i class="fa-solid fa-angles-left"></i>
      </button>
    </li>
  </ul>
</aside>
