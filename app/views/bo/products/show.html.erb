<% content_for :bo_main_content do %>

<div class="container-fluid py-4">
<div class="d-flex justify-content-between align-items-start mb-4">
  <div class="d-flex align-items-center gap-3">
    <%= link_to bo_products_path(params[:org_slug]), class: "text-muted text-decoration-none" do %>
      <i class="fa-solid fa-arrow-left fa-lg"></i>
    <% end %>
    <div>
      <h1 class="mb-0"><%= @product.name %></h1>
      <span class="text-muted">SKU: <%= @product.sku %></span>
    </div>
  </div>
  <div class="d-flex align-items-center gap-2">
    <%= link_to edit_bo_product_path(params[:org_slug], @product), class: "btn btn-outline-primary" do %>
      <i class="fa-solid fa-pen-to-square me-1"></i> <%= t('bo.common.actions.edit') %>
    <% end %>
    <%= link_to bo_product_path(params[:org_slug], @product),
        class: "btn btn-outline-danger ms-2",
        data: { turbo_method: :delete, turbo_confirm: t('bo.common.confirm.delete_product_name', name: @product.name) } do %>
      <i class="fa-solid fa-trash me-1"></i> <%= t('bo.common.actions.delete') %>
    <% end %>
  </div>
</div>

<div class="row g-4">
  <%# Left Column %>
  <div class="col-lg-8">
    <%# Product Information Card %>
    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title mb-3"><%= t('bo.products.show.product_information') %></h5>

        <div class="mb-3">
          <small class="text-muted d-block"><%= t('bo.products.form.description') %></small>
          <p class="mb-0"><%= @product.description %></p>
        </div>

        <hr>

        <div class="row">
          <div class="col-md-6 mb-3">
            <small class="text-muted d-block"><%= t('bo.products.form.category') %></small>
            <strong><%= @product.category&.name %></strong>
          </div>
          <div class="col-md-6 mb-3">
            <small class="text-muted d-block"><%= t('bo.products.form.unit_price', currency: @current_organisation.currency_symbol) %></small>
            <strong><%= humanized_money_with_symbol(@product.price) || '-'  %></strong>
          </div>
          <div class="col-md-6 mb-3">
            <small class="text-muted d-block"><%= t('bo.products.form.unit_description') %></small>
            <strong><%= @product.unit_description || '-' %></strong>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <small class="text-muted d-block"><%= t('bo.products.form.min_quantity') %></small>
            <strong><%= @product.min_quantity %></strong>
          </div>
          <div class="col-md-6 mb-3">
            <small class="text-muted d-block"><%= t('bo.products.form.min_quantity_type') %></small>
            <strong><%= @product.min_quantity_type || t('bo.products.form.units') %></strong>
          </div>
        </div>

        <hr>

        <div>
          <small class="text-muted d-block"><%= t('bo.products.form.product_image') %></small>
          <% if @product.photo.attached? %>
            <div class="mb-3">
              <label class="form-label"><%= t('bo.products.form.current_image') %></label>
              <div class="border rounded p-2 d-inline-block">
                <%= image_tag @product.photo, style: "max-width: 200px; max-height: 200px; object-fit: cover;" %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>

  </div>
</div>
</div>

<% end %>
