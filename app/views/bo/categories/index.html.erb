<% content_for :bo_main_content do %>

<!-- Sticky Header -->
<div class="bo-page-header">
  <div class="d-flex justify-content-between align-items-start">
    <div>
      <h1><%= t('bo.categories.index.title') %></h1>
      <p><%= t('bo.categories.index.subtitle') %></p>
    </div>
    <div class="bo-page-actions">
      <%= link_to new_bo_category_path(params[:org_slug]), class: "btn btn-primary" do %>
        <i class="fa-solid fa-plus"></i> <%= t('bo.common.actions.add_new') %>
      <% end %>
    </div>
  </div>
</div>

<!-- Page Body -->
<div class="bo-page-body">
  <div class="card">
    <div class="card-body">
      <% if @categories.empty? %>
        <div class="text-center py-5">
          <i class="fa-solid fa-folder-open fa-3x text-muted mb-3"></i>
          <h5 class="text-muted"><%= t('bo.categories.index.no_categories') %></h5>
          <p class="text-muted"><%= t('bo.categories.index.no_categories_hint') %></p>
          <%= link_to new_bo_category_path(params[:org_slug]), class: "btn btn-primary" do %>
            <i class="fa-solid fa-plus"></i> <%= t('bo.categories.index.create_first') %>
          <% end %>
        </div>
      <% else %>
        <div class="category-tree" data-controller="category-tree" data-category-tree-url-value="<%= move_bo_category_path(params[:org_slug], ':id') %>">
          <ul class="category-tree-list list-unstyled mb-0" data-category-tree-target="list">
            <% @categories.each do |category| %>
              <%= render 'category_node', category: category %>
            <% end %>
          </ul>
        </div>
      <% end %>
    </div>
  </div>
</div>

<% end %>
